[[o-que-e-uma-blockchain]]
= O que √© uma Blockchain?

== Uma visualiza√ß√£o gr√°fica

Finalmente, vamos √† {uri-blockchain-demo-blockchain}[aba {blockchain}] para entender o que √© esse conceito genial, numa visualiza√ß√£o gr√°fica! üòÉ

Nessa aba, apenas para fins de demonstra√ß√£o, apresentamos cinco (5) blocos encadeados.
Observe que, agora, foi adicionado o campo `Prev`.
Esse campo tamb√©m √© um `Hash`.
No primeiro bloco, seu valor √© nulo.
Para todos os demais blocos, o campo `Prev` armazena o valor do `Hash` do bloco anterior.
Assim, agora h√° um encademento que forma o que chamamos de "corrente de blocos".
Ou, o nome bonito em ingl√™s: {blockchain}.

O objetivo desse encadeamento entre os blocos √© muito simples.
Se voc√™ fizer uma altera√ß√£o em qualquer campo do bloco o seu `Hash` ser√° alterado.
Consequentemente, todos os blocos posteriores a essa altera√ß√£o tamb√©m n√£o ser√£o mais considerados v√°lidos.
O motivo para isso √© que, a partir do momento em que √© modificado o `Hash` de um bloco, o valor de `Prev`, registrado no bloco posterior, n√£o coincidir√° mais.
Logo, uma {blockchain} considerar√° todos os blocos inv√°lidos a partir de algum que tenha sido adulterado em qualquer um de seus campos.

Para fazer uma {blockchain} adulterada ser novamente considerada v√°lida, alguns passos seriam necess√°rios.
Por exemplo, vamos supor que estamos fazendo uma altera√ß√£o de dados apenas no √∫ltimo bloco.
Nesse caso, tornar a {blockchain} v√°lida √© algo simples: basta recalcular o `Hash` desse bloco executando a opera√ß√£o `Miner`.
Ou seja, executar o processo de minera√ß√£o.

O problema real surge ao ser feita uma tentativa de alterar um bloco que n√£o √© o √∫ltimo!
Vamos ver tamb√©m que a dificuldade de se alterar um bloco √© gradativamente aumentada quando ele vai se aproximando do primeiro bloco (ou se distanciando do √∫ltimo).
Suponhamos, por exemplo, que algu√©m tentasse fazer a adultera√ß√£o de um dado no bloco 3.
Para que isso fosse poss√≠vel, a opera√ß√£o de minera√ß√£o para todos deveria ser novamente realizada a partir desse bloco.
Assim, o custo de tornar um bloco v√°lido vai aumentando exponencialmente a medida em que ele se aproxima do primeiro bloco.

Podemos observar, ent√£o, que uma {blockchain} √© uma estrutura (ou um banco) de dados que rejeita modifica√ß√µes que n√£o sejam no √∫ltimo bloco.
Poder√≠amos fazer uma compara√ß√£o com um livro onde s√≥ √© poss√≠vel se escrever na √∫ltima p√°gina.
E, continuando nessa linha, esse livro s√≥ poderia ser escrito a caneta.
Por fim, qualquer tentativa de se modificar um dado registrado nesse livro o deixaria manchado (ou rasurado) para sempre.

Uma {blockchain} √© citada por muitos como sendo "o protocolo da confian√ßa".
Um dos motivos √© decorrente do fato de somente ser poss√≠vel se adicionar informa√ß√µes.
N√£o s√£o permitidas altera√ß√µes de informa√ß√£o, pois, pelo que vimos, a rede rejeita mudan√ßas atrav√©s de seu protocolo.
Finalmente, √© importante entender que uma {blockchain} √© uma estrutura de dados que fica "na m√£o de muitos".
Ou seja, √© descentralizada.
Vamos agora entender como uma {blockchain} √© considerada ainda mais segura quando ela √© distribu√≠da entre v√°rios n√≥s de uma rede.

== A Blockchain √© distribu√≠da

Vimos que uma {blockchain} √© uma estrutura de dados confi√°vel que s√≥ aceita inser√ß√µes de dados.
Ou seja, ela √© resistente a mudan√ßas.
Mas, al√©m disso, uma {blockchain} √© tamb√©m uma rede de computadores onde essa estrutura de dados √© replicada.
Dessa forma, sua estrutura de dados existe, distribu√≠da, em cada um dos computadores (n√≥s) dessa rede.

O objetivo principal da distribui√ß√£o de uma {blockchain} entre v√°rios n√≥s √© impedir que mesmo sendo ela v√°lida num √∫nico n√≥, ela s√≥ seja totalmente v√°lida quando houver um consenso (na rede) de que suas informa√ß√µes tamb√©m s√£o v√°lidas em todos os outros n√≥s.
Numa {blockchain}, os n√≥s pertencentes a sua rede s√£o respons√°veis por validar dados e retransmit√≠-los de forma que eles sejam replicados em todos os n√≥s.
Mais especificamente, quando dados precisam ser inseridos num bloco, todos os n√≥s devem verificar se esses dados s√£o v√°lidos.
Caso n√£o sejam, esses dados ser√£o descartados e n√£o retransmitidos aos pr√≥ximos n√≥s.

A valida√ß√£o de dados, obviamente, depende do que s√£o esses dados.
A primeira {blockchain} foi constru√≠da para resolver um problema complexo: a tranfer√™ncia de valores.
Dando cr√©dito: *os conceitos de {blockchain} que estamos aprendendo surgiram para fazer a moeda digital {uri-bitcoin}[Bitcoin] entrar em funcionamento*.
Perceba que s√≥ agora estamos falando de uma das v√°rias possibilidades de aplica√ß√£o da {blockchain}.
Apresentaremos, ainda, v√°rios outros casos de uso de uma {blockchain}.

O que diferencia a solu√ß√£o da {blockchain}, dada para o Bitcoin, de solu√ß√µes banc√°rias tradicionais que resolvem esse problema, entretanto, √© a descentraliza√ß√£o.
Detalharemos mais sobre transa√ß√µes, logo a frente.
Mas, por enquanto, √© importante saber que uma {blockchain}, por ser descentralizada, precisa criar algoritmos que promovam a manuten√ß√£o de um consenso entre os n√≥s.

√â atrav√©s de consenso que uma {blockchain} identifica se uma c√≥pia de seus dados, que est√° num n√≥, √© realmente v√°lida ou n√£o.
Acessando a aba {uri-blockchain-demo-distributed}[Distributed] podemos identificar que a altera√ß√£o de uma das c√≥pias da {blockchain} num dos n√≥s √© poss√≠vel de ser realizada.
E, essa altera√ß√£o pode, com certeza, tornar a c√≥pia da {blockchain} v√°lida nesse n√≥.
Como vimos, para isso ocorrer, seria necess√°rio refazer os c√°lculos de `Hash` para cada bloco a partir do que for modificado.
Mas, caso isso ocorra, outros n√≥s da rede percebem a diferen√ßa e, automaticamente, eliminam a participa√ß√£o do n√≥ que possui a {blockchain} adulterada.
Isso √© feito atrav√©s de consenso.
A rede que est√° certa √© a rede que det√©m a maioria do consenso (51%).

== A Blockchain utilizada no controle de transa√ß√µes: o Bitcoin
